=== Weight Tracker ===
Contributors: aliakro
Tags: weight,tracker,chart,bmi,bmr,macronutrient,measure,awards,custom fields,history,measurements,data
Requires at least: 5.2
Tested up to: 5.6
Stable tag: 8.1.10
Requires PHP: 7.2
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
Donate Link: https://www.paypal.me/yeken

Allow registered users of your website to track their weight, measurements, photos, custom fields and much more! History can be displayed in both tables & charts. Support for BMI, BMR, Calorie Intake, Macronutrients and much more!

== Description ==

= Demo =

Use our free site for tracking your weight which shows off some of the plugin's feature: [https://demo.yeken.uk - Demo Site](https://demo.yeken.uk "https://demo.yeken.uk")

= Documentation =

[Weight Tracker Website](https://weight.yeken.uk/ "Weight Tracker Website")

= Core Features =

An easy to use plugin that allows your users to track their weight, body measurements, photos and any custom fields you define. Their entries can be seen in various ways, charts, tables, shortcodes and widgets. The user is able to set targets and modify their entries.

The admin area features a rich user interface to allow site owners and personal trainers interact with their user base and help them achieve their goals.

Support for US/UK date formats as well as Imperial and Metric measurements.

For further information read our documentation:

[Weight Tracker - Documentation](https://weight.yeken.uk/shortcodes "Weight Tracker - Documentation")

= Pro Plus Version =

* All of the features that come with a standard Pro license.
* **Basal Metabolic Rate (BMR) calculations per user**. Shortcodes and extended admin screens to display a user's BMR. For further information on BMR and how it is calculated visit our calculations page.
* **Harris Benedict formula**. Shortcodes and extended admin screens to a view a person's calorie intake required to maintain and lose weight. For further information on Harris Benedict Formula and how it is calculated visit our calculations page.
* **Recommended calorie intake per meal time**. Shortcodes and extended admin screens to recommend how a person should split their daily calorie intake across meals. For further information on how this is calculated please visit our calculations page.
* **Macronutrients Calculator**. Shortcodes and extended admin screens to recommend how their calorie consumption should be split into fats, carbohydrates and proteins. For further information on the Macronutrients Calculator and how these calculations are performed please visit our calculations page.
* **Additional user preference fields**. Additional user preference fields and shortcodes to display them: Activity Level, Date of Birth and Gender.
* **Awards**. Awards and Badges! Set awards for: BMI Change, BMI Equals, Weight Gain / Loss from start and Percentage of weight lost from start.

[Read more about features](https://weight.yeken.uk/features/ "Read more about features")

= Pro Version =

* **Support for Gravity Forms.** Scan Gravity Form submissions for relevant Weight / Measurement fields and create a weight entry automatically. [Read more](https://weight.yeken.uk/gravity-forms/ "Read more")
* **Admin can view, edit and delete user data.** Various tools for viewing user's graphs, tables of entries, BMI, targets, weight lost / gained stats and much more.
* **CSV and JSON exports** for all data or a particular user.
* **Custom Fields.** Define and ask your user's custom questions on weight entry forms. Add numeric fields (for things like measurements), yes/no and text fields.
* **Photo Custom Fields**. Add one or more photo fields to your weight entry forms and allow your users to upload photos of their progress. Photos can be viewed, updated and removed by the end user and administrators. Handy shortcodes are provided for displaying galleries, most recent and oldest photo.
* **Groups**. Define user groups and assign your user's to them. View Weight Difference statistics for the group as a whole.
* **BMI.** Allows a user to specify their height. Once specified, their BMI is displayed next to each weight entry. There is also a shortcode to render the latest BMI.
* **Email notifications.** Receive email notifications when a person updates their target or adds / edits a weight.
* **Birthday Emails**. Automatically send your user's a birthday email (when they have entered a date of birth).
* **Overall user stats.** Shortcodes that allow you to display the total lost / gained for the community and another to display a league table.
* **Widgets.** Widgets that allow you to display the graph and quick weight entry form within any widget area.
* **Chart and form Shortcodes.** That allow you to display the graph and quick weight entry form by placing a shortcode on any post or page.
* **Progress Bar shortcode.** A shortcode that visually displays the logged in user\'s progress towards their target
* **Reminder shortcode.** A shortcode that can be used to remind the user to enter their target or weight for today.
* **Message shortcode** A shortcode that allows you to congratulate a user when they lose weight x number of times. It also provides the opposite allowing you to provide encouragement when someone gains weight.
* **Text Shortcodes.** Additional shortcodes for earliest and most recent dates entered.
* **Progress Bar shortcode / widget.** Display a user\'s progress towards their weight target.
* **Reminder shortcode.** Display a reminder to enter their weight for the given day or enter a target.
* **User preferences**. If enabled, the user will be able to select which unit they wish to store their weight in Metric or Imperial. They will also be able to specify date format and clear all their weight data.
* **Bar Charts**. Fancy something different to a line chart? The plugin will also support Bar Charts.
* **Delete existing entry**. A logged in user will be able to delete or edit an existing weight entry.
* **Better Tables.**. Data tables in front end and admin will support paging and sorting.
* **Admin: Extra Settings**. Extra settings to customise the plugin will be added e.g. number of plot points on graph, rows per page, etc.', WE_LS_SLUG)

[Read more about features](https://weight.yeken.uk/features/ "Read more about features")

= Languages support =

The plugin is written in English (UK) but has support for other languages such as French, Spanish, Dutch, Italian, Norwegian, Portuguese-Brazil, etc. For a list of supported languages please visit:

[Weight Tracker Website - Supported Languages](https://weight.yeken.uk/weight-units-date-formats-languages/ "Weight Tracker Website - Supported Languages")

Need a translation? Please read the following guide: [Translating the Weight Tracker plugin](https://weight.yeken.uk/translating-weight-loss-tracker-plugin/ "Translating the Weight Tracker plugin")

= Documentation =

Need further help? Please visit the dedicated site:

[Weight Tracker Website](https://weight.yeken.uk "Weight Tracker Website")

= Donate =

Paypal Donate: [www.paypal.me/yeken](https://www.paypal.me/yeken "www.paypal.me/yeken")

== Installation ==

1. Install "Weight Tracker" via the "Plugins" page in WordPress Admin (or download zip and upload).
2. Setup the plugin in WordPress Admin panel by goto to Settings > Weight Tracker
3. Create a page that users will visit. Within the page content add the shortcode [wlt].
4. Voila

== Frequently Asked Questions ==

= Do you have any guides / documentation? =

Yes! Please visit our dedicated site [Weight Tracker Website](https://weight.yeken.uk "Weight Tracker Website")

= Does it create any custom mySQL tables =

Yes it creates six:

- WP_WS_LS_DATA_TARGETS - Stores user target data.
- WP_WS_LS_DATA - Store weight and measurement information per user.
- WS_LS_DATA_USER_PREFERENCES - Stores user preferences.
- WS_LS_DATA_USER_STATS - Stores user statistics data.
- WS_LS_META_FIELDS - Defines the Custom Fields that can be asked on weight entry forms.
- WS_LS_META_ENTRY - Stores the answers for Custom Fields.

= What date formats doe it support? =

Currently it supports both UK (dd/mm/yyy) and US (mm/dd/yyyy) date formats.

= How do I add photo fields? =

Photo fields can be defined using a Custom Field.

= How do I add measurements? =

Measurements can be defined using a Custom Field.

= What measurement formats doe it support? =

Measurements are created using Custom Fields. You can therefore specify the unit yourself, whether that's centimetres, inches, feet, etc, it's entirely up to you.

== Screenshots ==

1. All three tabs of the main [wlt] shortcode
2. Tab one of [wlt]: Chart, Target and Weight form.
3. Tab two of [wlt]: Target Weight and Weight History
4. Tab three of [wlt]: User preferences page
5. Examples of random placements of [wlt-chart] and [wlt-form]
6. Examples of the Chart and Form widgets
7. Settings page: General
8. Settings page: User Experience
9. Settings page: Chart
10. Settings page: Measurements
11. Admin - User data summary
12. Admin - Displaying a user's data card
13. Admin - User search results
14. Admin - Edit a user's data entry
15. Admin - User's data card displayed on a tablet
16. Admin - Displaying a another view of the user's data card
17. Admin - Displaying all Custom Fields
18. Admin - Add / Edit custom field

== Upgrade Notice ==

8.1 - A new and improved export tool that handles large data sets!

== Changelog ==

= 8.1.10 =

* Tested with 5.6 and updated tested upto statement.

= 8.1.9 =

* Bug fix: Persist querystring values when a weight or target form is submitted.
* Bug fix: Persist querystring values when a user deletes their data.

= 8.1.8 =

* Improvement: Added 50% off voucher for Prp Plus upgrade.
* Bug fix: Added shortened shortcodes for wlt-if-1, etc e.g. wlt-if-1 > wt-if-1
* Bug fix: Challenges not shown when "Close" icon was pressed.
* Updated plugin tags.

= 8.1.7 =

* Improvement: Made it clearer that challenges are a Pro Plus feature.
* Improvement: Added shortened challenges shortcodes.

= 8.1.6 =

* Improvement: Added a new shortcode [wt-form-target] which renders a target form ( wraps around [wt-form] ).
* Bug fix: Corrected additional information under "Include User's email address" setting.

= 8.1.5 =

* Improvement: New setting to disable adding user's email to notification settings.
* Improvement: Entire cache is invalidated when settings are saved.
* Bug fix: Corrected rendering of user email address in notification email (i.e. not part of Weight Summary).
* Bug fix: Fixed issue when rendering [wt-gallery] where an error would be displayed saying an array element was missing.

= 8.1.4 =

* Improvement: Custom field names / questions have been increased from 40 characters to 200 to allow for bigger questions.
* Improvement: New setting: Specify whether to use a custom field's name / question or abbreviation for chart legends.
* Improvement: Added user's email address to email notifications.
* Bug fix: When a meta field was removed from the graph dataset due to no data, a missing index caused the graph to fail. This has now been corrected.

= 8.1.3 =

* Bug fix: Fixed issue with translation paths.
* Improvement: Updated plugin headers

= 8.1.2 =

* Bug fix: Changes to ensure [wlt-awards] would render badges correctly.
* Bug fix: Only fire Ajax call to process export when on the export page.
* Bug fix: Updated Czech PO file.

= 8.1.1 =

* Improvement: Added new settings for tabs. Theme, hide descriptions and when to switch to a dropdown.
* Bug fix: Re-build language files.
* Bug fix: Delete user cache upon a Gravity Form submission.
* Bug fix: Changed word "drunk" to "drank".

= 8.1 =

* Improvement: New export interface that supports large data sets. Data is now prepped and saved to disk in stages which improves performance.
* Improvement: Ability to download all exports.
* Improvement: Added new setting to enable and disable challenges functionality.
* Improvement: Added new setting for email notifications "Include Weight Summary". If enabled, additional data will be included regarding the user's weight entries.
* Change: By default, tab descriptions shall now be hidden unless enabled in Settings.
* Bug fix: [wt-progress-bar] - when a user meets or exceeds their target, set the progress to 100%, not 1%!
* Bug fix: Labels for form fields are correctly linked by ID.
* Bug fix: Corrected caching issue when fetching entries. Not just caching on ID but all arguments for the lookup.
* Bug fix: Fixed Danish PO file

= 8.0.6 =

* Bug fix: Updated URL to demo site.

= 8.0.5 =

* Bug fix: Corrected an issue where localisation wasn't always kicking in.

= 8.0.4 =

* Bug fix: Adjustments to Gravity Hooks processor to process meta fields correctly.

= 8.0.3 =

* Bug fix: Reverse weight entry data correct for [wt-chart] shortcode.

= 8.0.2 =

* Improvement: Added the argument 'bmi-format' (accepts 'label', 'both' or 'index') to shortcodes wt-table and wt. Allows you to control the format BMI is displayed in.

= 8.0.1 =

* Tweak: 'hide-meta' argument renamed to 'hide-custom-fields' on [wt-form] shortcode.
* Tweak: Replaced 'enable-meta-fields' argument with 'enable-custom-fields' for [wt-table] shortcode.
* Tweak: Renamed argument 'show-meta-fields' with 'show-custom-fields' on [wt-chart].
* Improvement: Added 'wt-total-weight-loss-by-community' alias for 'wt-total-lost'.
* Improvement: Standardised shortcode names, created new versions with 'wt-' prefix instead of 'wlt-'

= 8.0 =

* New Feature: Allow numeric custom fields to be plotted on charts.
* New Feature: A user's target weight can now be displayed on bar graphs.
* Improvement: Measurements have been removed. They have now been migrated (along with user data) into Custom Fields.
* Improvement: Measurements, now custom fields, can now be displayed on bar graphs.
* Improvement: Export to CSV / JSON performance has been drastically improved.
* Improvement: 1000s of lines of code optimised and re-factored.
* Improvement: Various performance tweaks. All globals no longer dynamically loaded.
* Improvement: Caching: Previously, user cache consisted of a large data object per user. This would be loaded on every cache lookup. Now, instead, the cache object has been replaced with a lookup table of cache keys relating to the user. If a sub key is found, the larger, relevant data object is fetched from catch.
* Improvement: Caching: More database lookups are now cached.
* Improvement: Caching: Cache time has been increased from 15 minutes to 24 hours.
* Improvement: Caching: Shortcodes now have additional caching.
* Improvement: JS libraries are included for charts when needed.
* Improvement: Target weight added to user search results.
* Improvement: Removed redundant usage statistics being sent to YeKen.
* Improvement: Weights are no longer inserted into the database in three formats. Instead, only Kg is stored and converted when required.
* Improvement: Removed redundant tools for correcting conversion issues (added 5+ years ago).
* Improvement: Old shortcode names have now been deprecated and should be replaced with current names.
* Improvement: Optimised SQL queries.
* Improvement: Global variables declared on each page load for feature lists have been removed.
* Improvement: [wt-new-users] shortcode is now cached for 15 minutes.
* Improvement: New setting: Notes can be disabled on user weight forms (via settings).
* Improvement: Form Widget: Ability to show / hide the notes field.
* Improvement: [wt-form] and [wt] - new argument "hide-notes" to hide notes field.
* Improvement: Expanded error messages where required to be more descriptive.
* Improvement: Improved some error handling messages.
* Improvement: Targets can now be cleared by submitting the form with no weight specified.
* Improvement: User entry tables: MySQL queries and data processing are now cached.
* Improvement: User entry tables: Option to exclude meta field data when viewing all user entries (big speed improvement)
* Improvement: User entry tables: Usernames now open the user's record in a new tab.
* Improvement: Emails notifications: Now using underlying email manager that was added in 6.1.
* Improvement: Emails notifications: Subjects are more informative.
* Improvement: User groups are now enabled by default and appear on the main menu.
* Improvement: WLT Shortcode: Week Ranges are now displayed when over 150 weeks. They can also have to be enabled with new argument "enable-week-ranges"
* Improvement: Admin JS has been minified.
* Improvement: All CSS files are now minified.
* Improvement: Added buttons for quickly adding new custom fields.
* Improvement: Challenges are now enabled by default.
* Bug fix: "Who can view and modify user data?" has been fixed so user's with the specified minimum role can now access admin data pages.
* Bug fix: Awards for a user are now deleted when "Delete all data for this user" has been clicked.
* Bug fix: All challenge data for a user is now deleted when "Delete all data for this user" has been clicked.
* Bug fix: Cache now invalidated correctly when updating meta fields.
* Bug fix: Grid lines can now be toggled off for charts.
* Bug fix: All text when on Widget settings is now translatable.
* Bug fix: User search results were showing in correct weights.
* Bug fix: Removed dead setting "Disable notifications from YeKen?".
* Bug fix: Meta fields cache no longer cleared on weight entry insert / save.
* Bug fix: Only display "Clear Target" if the user has a target currently set.
* Bug fix: Delete all cache if admin delete's all data.
* Bug fix: BMR now cached on a user by user basis correctly.
* Bug fix: User data tables, difference in weight field now displays correct difference.
* Bug fix: Stats database table is also cleared when all user data has been deleted.
* Bug fix: When all user data has been removed, cache is now cleared.
* Bug fix: Week selector works correctly on [wlt] shortcode when showing advanced data table.
* Bug fix: When exporting to CSV / JSON, HTML is removed from image custom fields. Instead the full URL is returned.
* Bug fix: [wt-group-weight-difference] now shows the weight in the correct user format.
* Bug fix: User stats table is now cached for up to an hour.
* Bug fix: When placing more than one form on a page, unique IDs are generated for photo fields. This fixes an issue where the first field would be populated with a user selected a photo rather than the correct field.
* Bug fix: "ID" now displayed when displaying custom fields table in admin area.

= 7.6.3 =

* Improvement: Added user ID to Harris Benedict filters.

= 7.6.2 =

* Bug fix: Error thrown on settings page as Pro Plus not active.

= 7.6.1 =

* Improvement: Removed redundant PHP files.
* Improvement: Removed redundant meta field database columns.
* Improvement: Various minor PHP tweaks throughout code.
* Bug fix: Fix to ensure we are checking for correct MySQL tables.

= 7.6 =

* Improvement: Ability to specify ranges when subtracting / adding calories to lose / gain weight.
* Improvement: Ability to specify a % of calories to add / subtract for weight gain / loss (instead of just a fixed value)
* Improvement: Added new Spanish translations (thanks @Iván)
* Improvement: Additional filters throughout plugin.
* Improvement: Additional underlying support for shortcodes to support user IDs other than current logged in user.
* Improvement: New setting to determine whether commas should be used when formatting larger numbers.
* Improvement: New Challenge filter "Min. Weight Entries". This will default to "Two or more" i.e. ignore all entries that have only entered one weight entered.
* Bug fix: When a user had one or less entry then an exception was thrown while calculating no of entries in challenges.
* Bug fix: Gravity Form fix to ensure photos added via custom fields can be added to the weight entry.
* Bug fix: Error thrown when a start weight of zero is entered.
* Bug fix: Graph dates are now localised.
* Bug fix: Challenges tweak, show total weight loss as a comparison value.
* Bug fix: Main shortcode [wlt] would load upto a maximum of 1000 data entries when rendering the shortcode. This was hugely inefficient and the data was not required. Instead, it has been change to load enough data required for the chart (on average just 25 weight entries!)
* Bug fix: Missing image on license page.
* Tweaked descriptions on [wlt] tabs

= 7.5.7 =

* Improvement: Pass individual Macro shortcode through same rounding.
* Improvement: Added user_id to wlt-filter-bmr-calculation filter.
* Bug fix: Invalidate cache for a user when updating a single setting field

= 7.5.6 =

* Improvement: Added filter for Macro rounding places.

= 7.5.5 =

* Change: Added additional support for custom fields in user preferences.
* Change: Removed redundant github link.

= 7.5.4 =

* Bug fix:  Challenges - Only include Challenge files (beta) for Pro Plus licenses. Doing so without a valid license caused settings not to save.
* Change:   Challenges - by default, Challenges are disabled.

= 7.5.3 =

* Bug fix: Undeclared variable in measurements throwing an exception.

= 7.5.2 =

* Improvement:  Challenges - calculate averages based on user's that have more than one Weight Entry recorded.
* Bug Fix:      Challenges - issue fixed where rendering sums and averages out in stones / lbs was stripped down to a number.

= 7.5.1 =

* Improvement: Challenges - added sums and averages table.

= 7.5 =

* Improvement: Added a 5 minute cron hook.
* Improvement: Changed display to render a user's First and Last name and then fall back to nickname
* Improvement: Added Challenges.
* Improvement: Record when a weight entry was actually inserted. Currently not exposed, but maybe of use with the new Challenges system.
* Improvement: Hook fired when user cache has been deleted "wlt-hook-delete-cache-for-user".
* Improvement: Refactored and improved speed of user search.
* Improvement: When mobile, make the user header menu responsive.
* Improvement: Added some cross reference to YeKen's Meal Tracker.
* Improvement: Various small refactors of code.
* Bug fix: Fixed rounding of [wlt-weight-diff] & [wlt-weight-diff-from-target] to two decimal places
* Bug fix: Fixed layout issue on help page.
* Bug fix: Changed "Show Wizard" link so it doesn't trigger Meal Tracker's to also show.
* Bug fix: Added missing BMI to JSON export.
* Bug fix: Added Group to export.

= 7.4 =

* New Feature: New settings to split calorie intake over meal times.

= 7.3 =

* Improvement: Added a filter ( 'wt_ls_user_profile_header_links' ) to allow a user header record to be manipulated by other plugins.
* Improvement: Hook into Meal Tracker to add a view "Weight Tracker Record" to user profile.
* Improvement: refactored function wlt_user_action_links().
* Improvement: Refactored dialog function.
* Improvement: Some general tweaks and refactoring.
* Improvement: Refactored function yk_mt_link_email_for_user();
* Bug fix: Ensure users can't enter a date that causes an age of 0.

= 7.2 =

* Improvement: Added Czech translations (thanks @Petr)
* Improvement: Added hook "ws-ls-hook-user-preference-saved" for user preferences being saved.

= 7.1.3 =

* Bug Fix: Tweaked the SQL for building Meta fields table

= 7.1.2 =

* Changed purchase links to link through to https://shop.yeken.uk
* Bug fix: Don't flood help logs with license checks.
* Bug fix: Changed filter for measurements out of globals.php

= 7.1.1 =

* Improvement: Fetch license prices from YeKen API
* Improvement: Removed redundant admin notifications code.
* Improvement: Added Polish translations - thanks Adam!

= 7.1 =

* Improvement: Added setup wizard.
* Improvement: Upgraded Chart.js to 2.8.0
* Improvement: Refactoring of file names.
* Improvement: Added filter "wlt-measurements" to allow filtering of measurement fields.
* Improvement: Removed redundant stats code.
* Improvement: Refactored some global constants.
* Improvement: Refactored code to remove un-needed function arguments.
* Improvement: Refactored code to remove un-needed property assignments.
* Improvement: Various refactorings of code.
* Bug Fix: Fixed "Weight Tracker Record" button at top of user header.

= 7.0.13 =

* Improvement: Allow filtering of Post URL for Weight Entry forms.
* Improvement: Updated Hebrew translations. Thanks @Roy
* Bug fix: Changed footable dates to use UTC methods.
* Bug fix: Fixed issue where a moment was being passed into footable.

= 7.0.12 =

* Improvement: Added URL field to awards.
* Bug fix: Fixed issue when no user side bar rows caused an error to be logged.
* Bug fix: Fixed issue with font awesome CSS not being enqueued properly.

= 7.0.11 =

= Bug Fix: Fixed an issue when looking for the functions ws_ls_harris_benedict_filter_calories_to_lose() and ws_ls_harris_benedict_filter_calories_to_add() when relevant files not included.

= 7.0.10 =

* Bug Fix: Fixed rounding issues that caused some weight loss awards not to be issued.

= 7.0.9 =

* New Feature: Added new shortcode to show difference between current weight and previous [wlt-weight-difference-previous]
* Improvement: Added a new setting to specify the calories required to gain weight.
* Improvement: Added the option to show and hide Gain or Loss calculations for MacroN and Calories.
* Improvement: Shortcodes now support "gain" figures.
* Improvement: New button to delete all awards for a user.
* Improvement: Replaced all intval() with (int).

= 7.0.8 =

* Improvement: Added screens to view user's for a given group (also able to remove).
* Improvement: Added a setting enable user's to edit their group.
* Bug Fix: Fixed Latest 100 / 500 entries on user data summary to fetch latest entries instead of oldest.

= 7.0.7 =

* Improvement: On user summary page, changed "Show All Entries" to "Show 500 most recent". On large sites, fetching all data was causing performance issues.
* Bug Fix: Fixed issues with selected="selected" randomly appearing.
* Bug fix: Removed duplicate chart opacity setting.

= 7.0.6 =

* Improvement: Added shortcode for user's previous weight [wlt-weight-previous]
* Improvement: Issue 179. Optimised deletion of redundant stats entries.
* Improvement: Issue 195. Increased award title length to 200 characters.
* Improvement: Issue 188. Display an admin warning if the Weight Tracker license expires within 14 days!
* Improvement: Issue 177. Updated Chart.js library.

= 7.0.5 =

* Improvement: Added additional Dutch translations.

= 7.0.4 =

* Improvement: Added Dutch Formal (copied from Dutch).
* Improvement: Increased granularity of height values.
* Improvement: Updated plugin title and description. Removed references to "loss" from "Weight Loss Tracker".
* Improvement: When a target is cleared, redirect back to current page so UI refreshes.

= 7.0.3 =

* Bug fix: Addressed another "Can't use function return value in write context" error in photos.

= 7.0.2 =

* Bug fix: Addressed a "Can't use function return value in write context" error in photos.

= 7.0.1 =

* Improvement: Added filter to allow a custom section to be inserted into user record.

= 7.0.1 =

* Bug fix: Fixed issue with "Warning: Invalid argument supplied for foreach()" in Awards

= 7.0 =

* New Feature: Pro Plus: Awards and Badges! Set awards for: BMI Change, BMI Equals, Weight Gain / Loss from start and Percentage of weight lost from start. Read more: https://weight.yeken.uk/awards
* New Feature: Pro: Added Groups. You can now group your members. https://weight.yeken.uk/groups
* New Feature: Pro: Birthday Emails. If enabled, automatically send a birthday email to applicable users.
* Improvement: Ability to clear log with "Clear log" button.
* Improvement: Caching can now be disabled in Settings.
* Improvement: Cache now cleared with each release (based upon version number).
* Bug fix: Fixed an issue during conversions when a non numeric value was passed.

= 6.1.1 =

* Improvement: Updated German translations. Thanks Benjamin.
* Bug fix: Typo fix.

= 6.1 =

* New Feature: Added a new Meta Field type of "Photos" (Pro only). This will allow site administrators to add one or more photo field per entry form.
* New Feature: Build in tool to migrate photos from old system to new.
* Improvement: Removed old photo upload and migrated to to new meta fields.
* Improvement: Added custom field data to email notifications.
* Improvement: Added additional logic to remove photos from media library when no longer used by Weight Tracker (e.g. user has deleted them)
* Improvement: Various minor tweaks to meta fields and validation.
* Improvement: Changed email format to HTML.
* Improvement: Optimised [wlt-new-users] to reduce size of data returned by query.
* Improvement: General PHP code tweaks to improve performance and maintainability ( based on PHPStorms recommendations).
* Bug fix: Class name not being correctly added to forms.

= 6.0.3 =

* Bug fix: Fixed issues with Hebrew not loading.

= 6.0.2 =

* Improvement: Added Hebrew.
* Bug fix: Removed error log count that check which was causing the custom fields to be added.
* Bug fix: Fixed issue where it would attempt the Custom Field default check on every admin page load!

= 6.0.1 =

* Bug fix: Removed error log count that check which was causing the plugin not to activate.

= 6.0 =

* New Feature: Added Custom Fields. Allow admin specified questions to be asked on weight entry forms.
* New Feature: Added Russian translations.
* Improvement: Updated Finnish translations.
* Improvement: Added error logging functionality.
* Improvement: Refactored Pro / Pro Plus features file include logic.
* Improvement: Upgraded Chart.js to 2.7.2
* Bug Fix: Fixed PHP errors causing the log entry "PHP Warning:  count(): Parameter must be an array or an object that implements Countable"

= 5.4.5 =

* Bug Fix: Measurements are now exported (via CSV / JSON) as inches where applicable.
* Bug fix: Fixed text alignment in table headers for RTL languages.

= 5.4.4 =

* Improvement: Added Arabic for Saudi Arabia (front end only). Thanks @Saeed

= 5.4.3 =

* Improvement: Added new option "auto" for "progress" argument [wlt-calories progress="auto"] shortcode. It will display the calories for the aim specified by the user e.g. if they select Lose Weight it will show the calories required to lose.
* Improvement: Added new option "auto" for "progress" argument wlt-macronutrients progress="auto"] shortcode. It will display the relevant macroN for the aim specified by the user e.g. if they select Lose Weight it will show the calories required to lose.

= 5.4.2 =

* Improvement: Added filter to allow Macro N shortcode and allowed progress options to be modified.

= 5.4.1 =

Bug fix: Issue with is_Array() function killing certain shortcodes.

= 5.4 =

* Improvement: Added support for Gravity Forms - read more: https://weight.yeken.uk/gravity-forms/
* Improvement: Added filter to modify allowed wlt-if fields (wlt-filter-if-allowed-fields)
* Improvement: Added filter to allow new wlt-if conditions to be added (wlt-filter-if-condition-[field name])
* Bug fix: Ensured object is countable before trying to count() it.
* Security fix: Added rel="noopener noreferrer" to all links that open in a new window ( i.e. target="_blank" )

= 5.3.1 =

* Improvement: Added filter to modify allowed wlt-if fields (wlt-filter-if-allowed-fields)
* Improvement: Added filter to allow new wlt-if conditions to be added (wlt-filter-if-condition-[field name])

= 5.3 =

* Improvement: Added filter to allow Activity Levels to be overridden (wlt-filter-activity-levels)
* Improvement: Added filter to allow Aims to be overridden (wlt-filter-aims)
* Improvement: Added filter to allow BMR calculation to be overridden (wlt-filter-bmr-calculation)
* Improvement: Added filter to allow Macro calculation per meal to be overridden (wlt-filter-macros-[key])
* Improvement: Added filter to allow Macro calculations per total to be overridden (wlt-filter-macros-[key]-total)
* Improvement: Added filter to allow all Macro calculations to be overridden (wlt-filter-macros)
* Improvement: Added filter to display an additional field below gender on user preferences form (wlt-filter-user-settings-below-gender)
* Improvement: Added filter to change a user's setting ('wlt-filter-user-setting-[key])
* Improvement: Added filter to allow calories to be overridden (wlt-filter-calories-lose)
* Improvement: Added filter to allow calories to maintain weight to be overridden (wlt-filter-calories-maintain)
* Improvement: Added filter to allow calories to lose weight to be overridden (wlt-filter-calories-lose)
* Improvement: Added filter to allow table rows to be filtered in Harris Benedict tables (wlt-filter-harris-benedict-rows)
* Improvement: Added filter to allow default macros to be specified and override WLT plugin. (wlt-filter-macros-custom)
* Improvement: Added filter to allow specify what types of calories should be converted into macros. wlt-filter-macros-calculate)
* Improvement: Added filter to allow specify what types of macros should be displayed. wlt-filter-macros-display)

= 5.2.26 =

* Improvement: Added Slovakian translations (thanks @Richard)
* Improvement: Added a new filter "wlt-filter-form-saved-message" to allow the save confirmation on form submission to be changed.

= 5.2.25 =

* Bug fix: Don't display notification from YeKen if it's blank!

= 5.2.24 =

* Added additional German translations (thanks @Benjamin)

= 5.2.23 =

* SVN Repo fix.

= 5.2.22 =

* Bug fix: CSV export. If the column is missing in underlying data then add a dummy field.
* Bug fix: Only display users on the stats table if they still exist in WP Users table.
* Bug fix: Correct display Pro Plus license price from Yeken Data feed.
* Bug fix: Only tell YeKen of license deactivation when one actually occurs.
* Bug fix: Fixed wpdb->prepare() errors thrown on user search.
* Reviewed data santisation and where required called relevant WordPress functions to sanitise user data.
* Removed redundant files.
* Removed commented lines of code.

= 5.2.21 =

* Added caching for user lookup.

= 5.2.20 =

* Added tweaks to Admin search for to support future AJAX lookups.
* Added some core functions to to lookup a user's previous weight and difference between that and latest.
* Added some core functions for fetching a user and limiting search results.

= 5.2.19 =

* Bug fix: If measurements enabled, ensure one or measurement fields have been enabled before rendering form fields.
* Added a hidden tool to fix the accuracy of Stones and Pounds to Kg.

= 5.2.18 =

* Improvement: Added options to allow admins to specify a fill colour and opacity under the weight line on charts.
* Improvement: Added new options to allow admins to specify font family and colour for charts.
* Updated Chart.js to 2.7.1

= 5.2.17 =

* Improvement: Added Arabic translations (thanks Firas).
* Bug fix: Record license expired properly.
* Bug fix: Clear WLT cache when plugin has been upgraded.
* Bug fix: Fixed rounding issues in data tables causing differences to look wrong.

= 5.2.16 =

* Improvement: Added additional argument for [wlt] shortcode that disables the check to see if [wlt] has already been placed on the page. Some users (and clashing plugins) were causing it to fail.
* Bug fix: Allow decimal entries for pounds (when in stones and pounds).
* Bug fix: When display comparison values, a rounding to one decimal place was causing the difference values to be slightly out. This has been changed to two decimals.

= 5.2.15 =

* Bug fix: When "Server Default" was selected for Photo uploads it would not allow any photo uploads to happen. This has been fixed.
* Added helper function ws_ls_if() for simplified IF checks.

= 5.2.14 =

* Updated Dutch translations (Thanks Robin!)

= 5.2.13 =

* Bug fix: Sorted issue with user preferences not being saved correctly

= 5.2.12 =

* Improvement: Refactored User preferences code so it can be extended.
* Improvement: Added new filters "wlt-filter-admin-user-sidebar-top", "wlt-filter-admin-user-sidebar-middle" and "wlt-filter-admin-user-sidebar-bottom" to allow developers to add HTML to user sidebar in "Manage Data".
* Improvement: Added new filter "wlt-filter-js-ws-ls-config" to allow developers to filter JS config.
* Improvement: Added new filter "wlt-filter-user-settings-below-aim" to allow developers to add to the User settings page.
* Improvement: Added the filters 'wlt-filter-user-settings-db-formats' and 'wlt-filter-user-settings-save-fields' to allow a developer to save other user preference fields.
* Bug fix: Stopped [wlt-calories] and [wlt-macronutrients] throwing an error when the user was logged out. Thanks @MARKONEX
* Bug fix: Fixed a bug where "Your modifications have been saved" message was always being shown on [wlt-table] shortcode.
* Database schema changes for future releases.

= 5.2.11 =

* Fixed a PHP check on a constant that in some cases threw an exception.

= 5.2.10 =

* Added some additional CSS to help those who have a theme that hides the [wlt] shortcode.

= 5.2.9 =

* Removed email from being sent when License expired. Appears it is sending in some cases when the license has not expired!

= 5.2.8 =

* Improvement: Added a new "About You" field called "Aim". This allows the user (or Admin) to specify their aim e.g. maintain, gain, or lose weight.
* Improvement: Expanded [wlt-if] to include a new field of "aim". Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Calorie caps can now be disabled by setting them to 0.
* Improvement: jQuery validation added to prompt the user to upload a smaller image if above file size limit.
* Improvement: New setting to limit the file size of images being uploaded.
* Improvement: Added check to ensure [wlt] shortcode is only placed once on a page or post.
* Improvement: An email is set to the Admin email address when the license expires.
* Improvement: License expire notifications are now sent to YeKen.
* Improvement: New hook "wlt-hook-license-expired" is fired when a license expires.
* Improvement: Removed setting "Advanced data tables?". This has been moved onto the shortcode themselves. See [wlt] argument "disable-advanced-tables". Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Removed setting "Display in tabs?". This has been moved onto the shortcode themselves. See [wlt] argument "disable-tabs". Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Merged and tidied up "User Experience" and "General" setting tabs.
* Improvement: Updated Chart.js to 2.7.0. Read more: https://github.com/chartjs/Chart.js/releases/tag/v2.7.0
* Bug fix: Ensured the string "photo" can be translated on [wlt] shortcode.
* Bug fix: Fixed issue where the width of chart lines was being effected by the chart "width" attribute.
* Removed "width" argument from [wlt-chart]. The attribute wasn't used.
* Notifications from YeKen are on by default and disabled when
* Updated Languages.

= 5.2.7 =

* Improvement: Added 7 day trial button
* Bug fix: Ensured the string "This field is required." can be translated.
* Bug fix: Fixed issue with empty "dob" field when using [wlt-if] shortcode.

= 5.2.6 =

* Updated language files again :(

= 5.2.5 =

* Updated language files

= 5.2.4 =

* Improvement: Added an Advanced tab to [wlt] shortcode to display a BMI, BMR, Calories and Macronutrients. This tab can be hidden with the attribute "hide-tab-advanced" - Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Added a Photos tab to [wlt] shortcode to display a gallery. This tab can be hidden with the attribute "hide-tab-photos" - Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Added footable.js to Macronutrient and Calorie tables in Admin (tables looks a lot better in responsive mode).
* Improvement: Added "alternate" class for Macronutrient table to make alternative rows stand out.
* Bug fix: Ensured "No data found" can be translated on data tables.
* Bug fix: Show hamburger menu icon on tabs.

= 5.2.3 =

Removing changes that weren't supposed to go out in 5.2.2 as they weren't completed! Apologies!

= 5.2.2 =

* Improvement: Added footable.js to Macronutrient and Calorie tables (tables looks a lot better in responsive mode).
* Bug fix: Fixed "Can't use return function in write context" appearing in older versions of PHP.
* Bug fix: Ensured "Measurements are in" can be translated.
* Bug fix: Ensured "Search" text on new data tables can be translated.

= 5.2.1 =

* Bug fix: Fixed issue with target weight failing to save if photos enabled.

= 5.2 =

* Photo Uploads!
	* New field on attachments "Don't show to public" (set to true by default) to stop user photo's being rendered on standard attachment pages.
	* Users can now upload / replace / remove a photo alongside their weight / measurement entries.
	* Admin can view all photos uploaded by a user.
	* Admin can upload / replace / remove a user's photo.
	* New shortcode [wlt-photo-count] to display the number of photos uploaded by the user - Read more: https://weight.yeken.uk/shortcodes/
 	* New shortcode [wlt-photo-oldest] to display the user's oldest photo - Read more: https://weight.yeken.uk/shortcodes/
 	* New shortcode [wlt-photo-recent] to display the user's most recent photo - Read more: https://weight.yeken.uk/shortcodes/
 	* New shortcode [wlt-gallery] to display the user's most recent photo - Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Added "css-class" argument for [wlt-macronutrients-table] shortcode - Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Added "css-class" argument for [wlt-calories-table] shortcode - Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Standard Pro Users can now upgrade to Pro Plus for 50% cheaper!
* Improvement: [wlt] shortcode has a new argument "hide-photos". If set to true, the photo section of the form will be hidden. Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Added field "photo" to [wlt-if] shortcode. Allows you to check if the user has uploaded a photo.
* Improvement: New hook "wlt-hook-data-entry-deleted" created. Fired when an entry is deleted.
* Improvement: Removed DataTables.js and replaced with Footable.js for advanced data tables. This keeps the front end consistent with admin area.
* Improvement: [wlt-table] has a new argument to disable data being edited / deleted "enable-add-edit". Read more: https://weight.yeken.uk/shortcodes/
* Improvement: [wlt-table] user's now have the option to edit their data with this shortcode (not just delete).
* Improvement: Tweaked form headers to say "Edit" intead of "Add" when editing an entry.
* Improvement: Editing an entry is done using PHP and HTML. jQuery / Ajax has been removed so more reliable.
* Improvement: Re-factored all <blockquotes> to use one function to keep things consistent.
* Improvement: Added French-speaking Canada (Québec), French-speaking Belgium and French-speaking Switzerland- thanks Pierre
* Improvement: Updated French language - thanks Pierre
* Bug fix: When display a user's weight entries on Search results, if there are no entries, display nothing instead of 0[weight unit]
* Bug fix: Don't display "Difference form target" if there is no recent or target weights to calculate from.
* Bug fix: Fixed locale issues in data tables.
* Removed "(needed for BMR)" from setting fields.

= 5.1.7 =

* Improvement: Updated French translations - thanks @Pierre

= 5.1.6 =

    * Improvement: Added "strip-p-br" argument to [wlt-if] shortcode. - Read more: https://weight.yeken.uk/shortcodes/
    * Improvement: Added .pot file
    * Updated language files
    * Bug fix: Search results now shows user's that have no weight entries.

= 5.1.5 =

	* Improvement: [wlt-if] can now be nested. You can nest [wlt-if] statements upto three levels deep. - Read more: https://weight.yeken.uk/shortcodes/
    * Improvement: [wlt-if] field now supports one or more fields (creating an AND statement). Fields can be specified in a comma delimited list. - Read more: https://weight.yeken.uk/shortcodes/
    * Improvement: Prompt to login text when [wlt-form] is in target mode has been modified to remove reference to weight entry.
    * Improvement: Added additional text to display whether the measurements are optional or mandatory.
    * Improvement: Added a license check to be performed on software update.
    * Improvement: Added [wlt-bmi] - a shorter name for [wlt-recent-bmi].- Read more: https://weight.yeken.uk/shortcodes/
    * Bug fix: Fixed a typo in a Progress Bar error message.
	* Bug fix: Removed "Delete user data" command from redirect querystring if previously specified.

= 5.1.4 =

    * Improvement: Added new field "logged-in" to [wlt-if]. Allows you to check whether user is logged in. - Read more: https://weight.yeken.uk/shortcodes/
	* Improvement: Added "redirect-url" argument to [wlt-user-settings] shortcode - Read more: https://weight.yeken.uk/shortcodes/
	* Improvement: Added some translations for Spanish / Spanish Latin America (es_MX). Thanks Gerardopianist!
	* Bug fix: Fixed issue where Stones / Pounds was displaying 14 pounds instead of incrementing stones when displaying comparison weights.

= 5.1.3 =

	* New Feature (Pro): Shortcode to add some simple conditional logic around WLT fields [wlt-if] - Read more: https://weight.yeken.uk/shortcodes/
    * Bug fix: Fixed an issue with is_admin flag logic causing "Can't use function return value in write context" on some installs.
 	* Bug fix: If a user had no height, the "Add Entry" form would fail to save the user's weight / measurement entry.
    * Bug fix: If the user has no weight entries, then don't attempt to calculate BMI!

= 5.1.2 =

    * Bug fix: Removed default for MySQL date fields that was causing some MySQL tables not to be created properly.

= 5.1.1 =

	* New feature: Added new setting "'About You' fields mandatory?". When set to Yes, user's will be forced to select a value for all About You fields.
	* Improvement: Added 'allow-delete-data' attribute to shortcodes [wlt] and [wlt-user-settings]. If set to false (default is true), the section allowing users to delete their own data is hidden. - Read more: https://weight.yeken.uk/shortcodes/
	* Bug fix: Date issues when saving DOB in front end if saving in US format.
	* Bug fix: Hide [wlt-user-settings] form if the user is not logged in.
	* Bug fix: The height field can be viewed and save regardless of BMI being enabled.
	* Bug fix: If "Allow user settings" is set to "No" in settings then disable [wlt-user-settings].
	* Bug fix: When entering weights in Stones and Pounds, a user can no longer enter 14lbs. Instead, they need to up the stone measurement.
	* Bug fix: When displaying a Stone / Pounds weight, if the pounds figure is 14lb, set it to 0 and increment Stones by one.
	* Bug fix: When viewing a user's data card, the "Height" link now clicks through to their preferences page.
	* Updated core language PO and MO files (to reflect 5.1+ changes)

= 5.1 =

	* New feature: New Pro Plus license with more extended features.
	* New Feature (Pro Plus): Shortcode to display a user's BMR [wlt-bmr] - Read more: https://weight.yeken.uk/shortcodes/
	* New Feature (Pro Plus): Shortcode to display a user's recommended calorie intake in tabular form [wlt-calories-table] - Read more: https://weight.yeken.uk/shortcodes/
	* New Feature (Pro Plus): Shortcode to display a specific calorie intake figure for a user [wlt-calories] - Read more: https://weight.yeken.uk/shortcodes/
	* New Feature (Pro Plus): Shortcode to display a user's recommended macronutrient intake in tabular form [wlt-macronutrients-table] - Read more: https://weight.yeken.uk/shortcodes/
	* New Feature (Pro Plus): Shortcode to display a specific macronutrient intake figure for a user [wlt-macronutrients] - Read more: https://weight.yeken.uk/shortcodes/
    * New feature: New licensing core to support new yearly subscriptions and communicate stats to Yeken.uk
	* New feature: Shortcode to display the user's height [wlt-height] - Read more: https://weight.yeken.uk/shortcodes/
	* New feature: Shortcode to display the user's gender [wlt-gender] - Read more: https://weight.yeken.uk/shortcodes/
	* New feature: Shortcode to display the user's Date of Birth [wlt-dob] - Read more: https://weight.yeken.uk/shortcodes/
	* New feature: Shortcode to display the user's activity level [wlt-activity-level] - Read more: https://weight.yeken.uk/shortcodes/
	* New feature: Shortcode to display the number of newly registered users in last x days [wlt-new-users] - Read more: https://weight.yeken.uk/shortcodes/
	* Various tweaks to the underlying code to support future versions.
	* Improvement: Back button added when viewing user records.
	* Improvement: Icons added to buttons when managing user data.
	* Improvement: Show user side bar when managing user data in more relevant places.
	* Bug Fix: Edit Settings was loading DoB for the wrong user.

= 5.0.5 =

* Improvement: Standardised unit display e.g. St is now consistently lowercase.
* Bug fix: Fixed issue where Stones / Pounds was displaying 14 pounds instead of incrementing stones.

= 5.0.4 =

* Bug fix: Fixed missing charts doe to clashes with other plugins. JS enqueue issue where other plugins were using Chart.js (myCred in this example) with the same enqueue slug.

= 5.0.3 =

* Bug fix: Fixed JS issue where charts were only being rendered for Pro users!
* Bug fix: Missing semi colon in JS file.
* Improvement: Updated all .PO language files.

= 5.0.2 =

* Bug fix: Fixed an issue where JS enqueue order was causing some charts not to appear in IE.

= 5.0.1 =

* Bug fix: Re-instated JS required (on all admin screens) to dismiss WLT admin notifications.

= 5.0 =

* New Feature: New and improved admin interface for interacting with your user's data!
	* View all user entries in tabular and chart format.
	* Add, edit and delete user entries.
	* Sortable and responsive tables.
	* View league tables of most lost / gained.
	* View user stats, weight lost, recent weight, start weight, BMI, etc.
	* Edit a user's preferences / settings
	* Export all or a particular user's data in CSV / JSON.
	* Administrators can specify the minimum user role allowed to access / edit user data.
* New Feature: New settings fields for user Date of Birth, Gender and Activity Level
* Improvement: Tweaked jQuery datepicker to display a year range of -100 to now.
* Improvement: Added "hide-measurements" argument to [wlt-form] shortcode e.g. [wlt-form hide-measurements='true']
* Bug fix: Fixed Edit and delete links when using is navigating their data.

= 4.2.8 =

* Added localisation for missing strings.


= 4.2.7 =

* Improvement: New shortcode for user settings [wlt-user-settings] - Read more: https://weight.yeken.uk/shortcodes/
* Improvement: New option added to [wlt-chart] "ignore-login-status". If set to true, will display the chart's data in the event the user is not logged in (should be used alongside user-id attribute) - Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Added "Redirect URL" to Form Widget.
* Improvement: Optimised speed of user preference lookup (if non sepcified). Previously if the user hadn't specified any user preferences the DB would have be queried for every key lookup. This was due to an empty array not being cached. Rules have changed to store an empty array to save querying DB for each user preference.
* Improvement: Standardised Hook / Filter names (possible breaking change if you use these). Reade more: https://weight.yeken.uk/hooks-and-filters/
* Improvement: Added "Neck" measurements.
* Bug fix: Fixed issue with cache keys for pounds and Kgs conflicting and replacing each other when querying extremes.
* Bug fix: Ensure both cron jobs are removed on plugin deactivation.

= 4.2.6 =

* Bug fix: Fixed an issue with cache not being cleared properly upon target being set.
* Bug fix: Fixed issue with cache keys for pounds and Kgs conflicting and replacing each other.

= 4.2.5 =

* Decimal places are now a core feature and no longer just be a perk of Pro.

= 4.2.4 =

* Added simpler shortcodes (don't worry the old ones still work):
	* [wlt] for [weight-loss-tracker].
	* [wlt-weight-diff] for [weightloss_weight_difference]
	* [wlt-weight-start] for [weightloss_weight_start]
	* [wlt-weight-most-recent] for [weightloss_weight_most_recent]
	* [wlt-weight-diff-from-target] for [weightloss_weight_difference_from_target]
	* [wlt-target] for [weightloss_target_weight]
	* [wlt-chart] for [weight-loss-tracker-chart]
	* [wlt-form] for [weight-loss-tracker-form]
	* [wlt-table] for [weight-loss-tracker-table]
	* [wlt-recent-bmi] for [weight-loss-tracker-most-recent-bmi]
	* [wlt-total-lost] for [weight-loss-tracker-total-lost]
	* [wlt-league-table] for [weight-loss-tracker-league-table]
	* [wlt-reminder] for [weight-loss-tracker-reminder]
	* [wlt-progress-bar] for [weight-loss-tracker-progress-bar]
	* [wlt-message] for [weight-loss-tracker-message]
* Updated Dutch translations (thanks @Robin).
* Added a new setting to disable admin notifications from YeKen.
* Slight tweak to rounding on pound values. Now to one decimal place instead of two.
* Bug fix: Fixed JS error being thrown in admin.js - wouldn't have caused any issues to users.
* Bug fix: Removed edit icon from Advanced Table when placed as a shortcode. Edit form only exists in main shortcode.
* Bug fix: Date column not sorting correctly once clicked in advanced data tables.
* Bug fix: Fixed issue with JS progress bar displaying "undefined"

= 4.2.3 =

* Bug fix: Rewritten jQuery function. IE 11 having issues with ES6 function declartion (used in progressbar.js).
* Bug fix: Re-wrote array declartions to use array() instead of [] due to strange errors.
* Improvement: Minified JS and CSS.

= 4.2.2 =

Bug fix: Fixed super large / delete icons in advanced table (probably due to cached CSS more than anything).
Bug fix: Use defined() instead of empty() to check for a empty constant.

= 4.2.1 =

* Bug fix: Pre PHP 5.5 issue within globals.php has been fixed. Please upgrade folks.

= 4.2 =

* New feature: Message shortcode to motivate people when they gain weight x number of times or congratulate if they lose weight x number of times. - Read more: https://weight.yeken.uk/shortcodes/
* New feature: Reminder shortcode to display reminder messages for users to add a target weight or weight / measurement entry for the day. - Read more: https://weight.yeken.uk/shortcodes/
* New feature: Progress bar towards target [weight-loss-tracker-progress-bar] - Read more: https://weight.yeken.uk/shortcodes/
* New Feature: Added widget for progress bar shortcode above. - Read more: https://weight.yeken.uk/widgets/
* New feature: Email notifications for update of user's target or adding / editing a weight entry: https://weight.yeken.uk/email-notifications/
* New feature: New attribute "redirect-url" added for the shortcode [ws_ls_shortcode_form]. If specified and once the data has been saved, the user will be redirected to the given URL. Please note, the URL has to be one for the current site, otherwise the redirect will not happen (URL is passed through wp_safe_redirect()). Read more https://weight.yeken.uk/shortcodes/
* New feature / improvements: Additional hooks and filters added. Read more:
* Improvement: Added the following to [weight-loss-tracker] shortcode: 'hide-first-target-form', 'hide-second-target-form' and 'show-add-button'. Read more: https://weight.yeken.uk/shortcodes/
* Improvement: Every license activation is instantly sent to YeKen.
* Improvement: Stats now sent weekly (instead of monthly) using a WP cron job. If "Send usage data to YeKen" is enabled, usage stats will be sent on weekly basis to YeKen by a scheduled WP cron job (instead of relying on an expired cached value to trigger the send).
* Improvement: Upgraded Chart.js to 2.5.0.
* Improvement: Changed "Upgrade to Pro" and documentation links to point to new website https://weight.yeken.uk
* Improvement: Changed comms and license activations to be sent to https://weight.yeken.uk (instead of yeken.uk)
* Improvement: Slight tweaks to advanced data table layouts.
* Bug fix: Setting "min-chart-points" attribute to 0 will now display the chart if no weight data has been entered.
* Bug fix: Issue generating stats for a user when a target weight is entered but no user weights exist (division by zero).
* Bug fix: Stats are instantly tidied up / re-generated if all user data is delete or an individual user deletes their data.
* Bug fix: If no target weight has been set, the shortcode will now inform the user when the shortcode [ws_ls_weight_difference_target] is rendered.
* Bug fix: Weight loss comparison figures shown properly when in stone / pounds.
* Bug fix: When using [weight-loss-tracker-total-lost], Kg values are now rounded to two decimal places.

= 4.1.10 =

* Updated Portuguese translations. (thanks @Thomas)

= 4.1.9 =

* Updated Dutch translations (thanks @Robin)
* Updated Italian translations (thanks @Salvo)
* Bug fix: Deal with negative numbers in ws_ls_pounds_to_stone_pounds() and ws_ls_convert_kg_to_stone_pounds() - Thanks (@GatorDev)

= 4.1.8 =

* Updated German translations (thanks @Christian)

= 4.1.7 =

* Bug fix: Corrected nonce name. Issue on some installs to do with verfiying nonces used to secure AJAX calls for loading user data in Admin.

= 4.1.6 =

* Added fixes to sort issues with Ultimate Tables plugin when both including the Datatables JS library.

= 4.1.5 =

* Updated Danish translations (thanks @spaniole)

= 4.1.4 =

* Added % lost / gained to stats table.
* Changed graph text when no weight data has been entered.
* Added some additional Danish translations for date picker.

= 4.1.3 =

* Added some Norwegian (Norsk bokmål) translations (Thanks Rodrigo).
* Date picker now translated into relevant locale - the majority driven from the WP Locale object. The words "Today" and "Done" can further be translated if provided.
* Bug fix: Removed rogue double quote in Chart HTML (Thanks Rodrigo).
* Bug fix: Only include ws_ls_config_advanced_datatables[] JS object when actually on the admin User Data page (Thanks Rodrigo).
* Bug fix: Only include wp_config[] JS object once. If multiple widgets / shortcodes were placed it would embed the object more than once.

= 4.1.2 =

* Bug fix: When saving weight data / targets it was trying to generate stats when the user didn't have a Pro license. This caused 500 errors!
* Bug fix: Stats settings should only be editable in Pro mode.
* Updated "Go Pro" page

Thanks @Terrence and @Steevie for your help!

= 4.1.1 =

Bug fix: Certain array declarations causing issues on non PHP7 sites.

= 4.1 =

* New shortcode: [weight-loss-tracker-total-lost] - Total lost / gained by the entire community.
* New shortcode: [weight-loss-tracker-league-table] - Show a league table of weight loss users.
* New cron job that runs every hour to refresh old user stats.
* Upgraded DataTables.js library to 1.10.13.
* Upgraded Chart.js library to 2.4.0.
* Bug fix: If weight data was empty the Chart widget would throw a PHP exception. Now fixed.
* Bug fix: Forcing a SQL query to uppercase was causing issues with case sensitive MySQL table names. Thanks Rodrigo!

= 4.0.3 =

* Added Hungarian (Magyar) translations - about 80% translations supplied. Thanks Noam.

= 4.0.2 =

* Added some more Dutch translations (thanks Yvon and Bart).
* Bug fix: Chart yAxes can now be translated
* Bug fix: Measurement labels can now be translated on form.
* Bug fix: Measurement columns can now be translated in data table.
* Bug fix: Measurement columns can now be translated in admin when viewing user data.
* Bug fix: Header and footer columns on user data page (admin) can now be translated

= 4.0.1 =

* Added "Shoulders" to measurement fields.
* Changed order of measurement fields to be more inline with body order.

= 4.0 =

**Pro Changes:**

* Support for measurements added - can now add and edit measurements for each entry!
* Measurements for "Bicep - Left", "Bicep - Right", "Forearm - Left", "Forearm - Right", "Calf - Left", "Bust / Chest", "Buttocks", "Hips", "Navel", "Thigh - Left", "Thigh - Right" and "Waist".
* Height can also be specified on the user preferences page.
* If height is specified the BMI value for the given height / weight will be displayed.
* New Shortcodes:
  [weight-loss-tracker-most-recent-bmi] - Displays the user's BMI for most recent weight given. The argument "display" determines what is rendered: 'index' - Actual BMI value. 'label' - BMI label for given value. 'both' - Label and BMI value in brackets

**Other changes:**

* Upgraded jQuery Datatables library to 1.10.12
* Upgraded Chart.js to version 2! (1.0.2 to 2.3.0)
* Target Weight line is now dashed to make it stand out more.
* New chart option added to start y Axes at 0 (instead of auto calculated).
* Use of tabs defaults to "Yes" on settings page.

**Bug fixes:**

* User preferences are now cached correctly.
* Fixed nounce check when fetching all user data.
* Various minor bug fixes.

= 3.6.1 =

* Fudge fix to remove .git folder from plugin directory!

= 3.6 =

 * Added the shortcode [weightloss_target_weight] to display the user's target weight (assuming they have specified one).

= 3.5.1 =

* BUG FIX: Additional logic around array_reverse when rendering a chart to ensure the object is an array and not empty.

= 3.5 =

* Added locale support for advanced data tables (Pro feature)
* Updated Dutch translations for advanced data tables and others

= 3.4.1 =

* CSS is included by default as some installations had issues. JavaScript includes have been moved to footer.

= 3.4 =

* Modified the including of JavaScript / CSS dependencies. To reduce conflicts with other plugins, JavaScript and CSS files are only included when widgets and shortcodes are placed.

= 3.3 =

* Added some additional Romanian translations (although not complete for plugin).
* BUG FIX: Finnish translation files were given the wrong code so not included as expected.

= 3.2 =

* Updated Finnish translations.

= 3.1.1 =

* Modified the main charts ([weight-loss-tracker-chart] and [weight-loss-tracker]) so they display the most recent date entries as opposed to the earliest.
* BUG FIX: Fixed difference in date ordering of widget and main charts. Previously the Widget displayed dates in desc as opposed to asc.

= 3.1 =

**Pro Changes:**

* Added new Shortcode for displaying a data table: [weight-loss-tracker-table] - By default it will display data for the current user logged in. Specifying the attribute "user-id" will allow you to display a table for the given user e.g. [weight-loss-tracker-table user-id="5"]
* Admin can now specify a message to be displayed in the place of widgets when the user is not logged in.
* BUG FIX:  Charts and Form shortcodes now display a login message when the user isn't logged. Previously they would see the data weight data for admin account.

**Core changes:**

 * Can now specify the minimum number of weight entries needed before chart is displayed e.g. [weight-loss-tracker min-chart-points=5]
 * Improved jQuery loading of tabs. Tabs are hidden until jQuery has rendered them correctly (this will stop the unstyled tabs appearing).
 * "Clear Target" button added to target forms.

= 3.0.1 =

- Extended MySQL table checker to ensure the data table for user preferences has been created.
- Removed CSS import statements for Open Sans and Lato.

= 3.0 =

Wey hey! Our first Pro version, if you upgrade you get the following additional features:

- Widgets. Widgets that allow you to display the graph and quick weight entry form within any widget area.
- Chart and form Shortcodes. That allow you to display the graph and quick weight entry form by placing a shortcode on any post or page.
- Text Shortcodes. Additional shortcodes for earliest and most recent dates entered.
- Admin: View / Delete user data. Admin will be able to view and delete existing user data.
- User preferences. If enabled, the user will be able to select which unit they wish to store their weight in Metric or Imperial. They will also be able to specify date format and clear all their weight data.
- Bar Charts. Fancy something different to a line chart? The plugin will also support Bar Charts.
- Decimals. Decimals will be allowed weight in Pounds only or Kg modes.
- Delete existing entry. A logged in user will be able to delete or edit an existing weight entry.
- Better Tables.. Data tables in front end and admin will support paging and sorting.
- Admin: Extra Settings. Extra settings to customise the plugin will be added e.g. number of plot points on graph, rows per page, etc.

Core changes:

- Removed support for Avada theme
- Changed jQuery to document ready instead of window ready (jQuery kicks in quicker)

= 2.0.1 =

BUG FIX: Target weight was appearing twice on non-tabbed mode.

- Removed some reundant jQuery regarding old tab library.
- Added an additional CSS rule to override some theme CSS causing issues.

= 2.0 =

This is a major release of the plugin and a complete rewrite of its core. As the plugin has grown unexpectedly the code base has became unmaintainable and each upgrade was a pain in the a$$. So, this version fixes that and provides a solid base for the future Pro version. Changes in this release:

New features:

* Better out the box styling and look - looks sharper and more presentable with no need for CSS knowledge.
* Supports UK and US date formats
* jQuery UI tabs replaced with cleaner, animated and responsive tabs.
* Shortcode name added [weight-loss-tracker] (works in exactly the same way as [weightlosstracker]).
* Admin menu has been expanded (ready for Pro version).
* Improved form validation and added more visual cues to prompt the user to correct the form.

Bug fixes:

* Other shortcodes (like weightloss_weight_difference) return the weight unit but no value when not logged in. Fixed to return nothing at all.
* Tab index order fixed on forms.

Underlying changes:

* Added caching to database queries - all queries are cached for upto 15 minutes. This will reduce the number of queries against the MySQL database and reduce overall load. It is estimated that DB queries will reduce by two thirds.
* All JavaScript (e.g. Chart) has been removed from inline statements to external files.
* All JavaScript and CSS files have been minified.
* Redundant / development copies of JavaScript, PHP and CSS files have been removed. Folder structures have been simplified and tidied.
* Increased chart height. Will be configurable in future releases.
* Major refactoring of ALL code.
* Various PHP performance tweaks to increase load time (e.g. replacing all double quotes for strings and replacing with single).
* Added additional CSS class names to HTML elements allowing developers to target their CSS better.
* Support added for multiple charts to be placed (the base to build shortcodes / widgets in the Pro version).

= 1.20.1 =

BUG FIX: Previous release broke the "Delete all data" button on admin page. Fixed.

= 1.20 =

* Changed input fields for weight to: type="number".
* Settings page: Added logic to check the required MySQL tables are present. If not, an option to rebuild them is available.
* Removed redundant upgrade script to add column to main data table.
* BUG FIX: If DateInterval class is not present (i.e. older version of PHP) disable date range selection on weight history table
* BUG FIX: Stopped non numeric values being entered for target weights.
* BUG FIX: When in Stones & Pounds mode, maximum pounds that can be entered is limited to 14.

= 1.19.2 =

* BUG FIX: Rookie mistake! Left debug data in!

= 1.19.1 =

* BUG FIX: Pound Only value not being saved correctly.

= 1.19 =

* Ability to specify the line and fill colours used on the graph. (thanks for the suggestion @Hardware Guru)
* Added Spanish translations - THANKS @idelfonsog2
* BUG FIX: In some cases the MySQL Target table was not being created correctly. The activate logic has been modified to correct this.

= 1.18 =

* BUG FIX: Gave the language function a unique name as clashing with some other plugins.
* IMPROVEMENT: Removed -50px off width of graph.

= 1.17 =

* Updated Romanian translations for admin page - THANKS @alexiarna
* Removed some redundant PHP files.
* BUG FIX: All text translated on admin page. One piece of text wasn't being translated.

= 1.16 =

* Added Danish translations - THANKS @kfasterholdt
* Updated Romanian translations (front end) - THANKS @alexiarna

= 1.15 =

- Removed upgrade check. This was trying to recreate the MySQL table for target data and throwing errors on some installs.
- Added versions numbers when enqueuing Js and CSS scripts.
- Tidied up includes statements.

= 1.14 =

- Chart.new.js (library used for charts) has been reverted back to Chart.js. Unfortunately this means labels are lost on graphs. However, Chart.js is still maintained by the developers.
- New option to display plot points on graph. If enabled, target and recorded weight will be displayed on hover.
- Chart JavaScript tidied up.
- BUG FIX: Removed references to jQuery Tabs when Tabs disabled.

= 1.13 =

- BUG FIX: Some third party plugins / installs insert additional input fields within <form>. Added additional code to remove any non expected ones.
- BUG FIX: Target form appears when tabs enbaled - regardless of whether or not Targets are enabled.

= 1.12 =

- Added a button on admin page to delete all existing user data.

= 1.11 =

- Added an admin page to manage settings for plugin

= 1.10 =

- Weight History data presented on seperate tab

= 1.9 =

- Users can now specify their target weight
- New short code [weightloss_weight_difference_from_target] - end weight of the logged in member to display the difference between target and latest weight
- New filters to filter data by week

= 1.8 =

* Upgraded Datepicker to use jquery (as opposed to HTML5 control) for better browser support

= 1.7 =

* Added Dutch translations

= 1.6 =

* Now supports pounds only. As opposed to just Stones / Pounds
* Translations added for:
  - Romanian
  - French
* Minor tweaks to conversions between stones / pounds
* Corrected ws_ls_convert_kg_to_stone_pounds to calculate pounds correctly
* [weightloss_weight_difference] corrected to display pounds
* Small bug fixes

= 1.5.1 =

Minor bug fix for new tags. Writing out values in the wrong place.

= 1.5 =

* Replaced chart.js with chartNew.js (https://github.com/FVANCOP/ChartNew.js/) to allow graph axis labels
* Axis labels added to graph
* Bug fix. Imperial measurements are now displayed on the graph in pounds (as opposed to stones / lbs) due to this bug:

	The problem is plotting imperial values on a graph. Say you have the following imperial data (stones / pounds) data:

	'15 7','15 3','15 0','14 12','14 10','14 7'

	I originally added a decimal place to stones / ozs so I can graph it:

	'15.7','15.3','15.0','14.12','14.10','14.7'

	At a glance it looks like this should work.

	However, the 14.7 is treated as 14.70 and therefore comes higher than 14.10.

  I couldn't see a quick way to correct this. So to be safe (and save me time), I've changed it to display in pounds only

= 1.4 =

* Added the following tags:

	[weightloss_weight_difference] - total weight lost by the logged in member
	[weightloss_weight_start] - start weight of the logged in member
	[weightloss_weight_most_recent] - end weight of the logged in member

= 1.2 / 1.3 =
* Various changes made upon feedback from WordPress submission

= 1.1 =
* Support imperial as well as metric weights

= 1.0 =
* Initial Build
