jQuery(document).ready(function(n){n.fn.zozoTabs&&n("#ws-ls-tabs").zozoTabs({rounded:!1,multiline:!0,theme:"silver",size:"medium",responsive:!0,animation:{effects:"slideH",easing:"easeInOutCirc",type:"jquery"}}),n(".ws-ls-macro").focus(function(){prev_val=n(this).val()}).change(function(){event.preventDefault();var e=n(this).data("type");let s=0;n(".ws-ls-macro-"+e).each(function(){s+=parseInt(this.value)}),(100<s||s<0)&&(n(this).val(prev_val),alert("Please ensure the total of the Macronutrient fields is greater than 0% and less than 100% "))}),n(".ws-ls-macro-meals").focus(function(){prev_val=n(this).val()}).change(function(){event.preventDefault();var e=0;n(".ws-ls-macro-meals").each(function(){e+=parseInt(this.value)}),(100<e||e<0)&&(n(this).val(prev_val),alert("Please ensure the total of the Macronutrient Meals fields is greater than 0% and less than 100% "))}),n(".ws-ls-disabled input").prop("disabled",!0),n(".ws-ls-disabled select").prop("disabled",!0),n(".notice.is-dismissible").on("click",".notice-dismiss",function(e){e.preventDefault();e=n(this);"undefined"!=e.parent().data("wsmd5")&&(e=e.parent().data("wsmd5"),n.post(ajaxurl,{action:"ws_ls_dismiss_notice",url:ajaxurl,md5:e}))});var e=document.querySelectorAll(".ws-ls-input-file");function s(){var e=[0,1,2,3,4,5,6,7],s=n("#field_type").val();for($i=0;$i<e.length;$i++)s!==e[$i]&&n(".ws-ls-meta-fields-additional-"+e[$i]).addClass("ws-ls-hide");for($i=0;$i<e.length;$i++)s==e[$i]&&n(".ws-ls-meta-fields-additional-"+e[$i]).removeClass("ws-ls-hide")}function t(){var e=["bmi","bmi-equals","weight","weight-percentage"],s=n("#category").val();for($i=0;$i<e.length;$i++)s==e[$i]?(n("#ws-ls-awards-additional-"+e[$i]).removeClass("ws-ls-hide"),n(".hide-"+e[$i]).addClass("ws-ls-hide")):(n("#ws-ls-awards-additional-"+e[$i]).addClass("ws-ls-hide"),n(".hide-"+e[$i]).removeClass("ws-ls-hide"))}function a(){"custom"===n("#ws-ls-export-new-form #date-range").val()?n("#ws-ls-date-range-options").removeClass("ws-ls-hide"):n("#ws-ls-date-range-options").addClass("ws-ls-hide")}function i(){var e;0!==n(".ws-ls-export-progress-bar").length&&(e={action:"process_export",security:ws_ls_security["ajax-security-nonce"],id:n(".ws-ls-export-progress-bar").data("export-id")},jQuery.post(ajaxurl,e,function(e){var s;!0===(s=e).error?n("#ws-ls-export-message").text(s.message):(n(".ws-ls-export-progress-bar-inner").css("width",s.percentage+"%"),""!=s.message&&(e=s.message,n("#ws-ls-export-message").html(e)),!0===s.continue&&i())}))}function o(e,s,t){t={action:"postboxes_event",security:ws_ls_security["ajax-security-nonce"],id:e,key:s,value:t};jQuery.post(ajaxurl,t,function(e){})}function l(e){let s=[];return n("#"+e+" .ws-ls-postbox").each(function(){s.push(this.id)}),s}Array.prototype.forEach.call(e,function(e){var s=e.nextElementSibling,t=s.innerHTML;e.addEventListener("change",function(e){e=e.target.value.split("\\").pop();e?s.querySelector("span").innerHTML=e:s.innerHTML=t}),e.addEventListener("focus",function(){e.classList.add("has-focus")}),e.addEventListener("blur",function(){e.classList.remove("has-focus")})}),n("#field_type").change(function(){s()}),s(),n(".ws-ls-radio-button-options-show-more").on("click",function(e){e.preventDefault(),n(".ws-ls-radio-button-options-table tr").removeClass("ws-ls-hide"),n(this).hide()}),n("#ws-ls-awards-form #category").change(function(){t()}),t(),n(".setup-wizard-dismiss").on("click",".notice-dismiss, .dismiss-wizard",function(e){e.preventDefault(),n.post(ajaxurl,{action:"ws_ls_setup_wizard_dismiss",url:ajaxurl})}),n(".ws-ls-calorie-subtract-ranges-show-more").on("click",function(e){e.preventDefault(),n(".ws-ls-calorie-subtract-ranges-rows").show(),n(".ws-ls-calorie-subtract-ranges-show-more").hide()}),n(".ws-ls-calorie-add-ranges-show-more").on("click",function(e){e.preventDefault(),n(".ws-ls-calorie-add-ranges-rows").show(),n(".ws-ls-calorie-add-ranges-show-more").hide()}),n("#ws-ls-export-new-form #date-range").change(function(){a()}),a(),n(".ws-ls-export-check-all").on("click",function(e){e.preventDefault(),n(".report-column").prop("checked",!0)}),n(".ws-ls-export-uncheck-all").on("click",function(e){e.preventDefault(),n(".report-column").prop("checked",!1)}),i(),n(".ws-ls-postbox .handlediv").on("click",function(e){e.preventDefault();e=n(this).data("postbox-id");let s=n("#"+e);s.toggleClass("closed"),o(e,"display",s.hasClass("closed")?0:1)}),n(".ws-ls-postbox-higher, .ws-ls-postbox-lower").click(function(e){e.preventDefault();var s=n(this).data("postbox-col");let t=l(s);var a=n(this).data("postbox-id"),i=t.indexOf(a),e=n(this).hasClass("ws-ls-postbox-higher");(!0===e&&0<i||!1===e&&i<t.length)&&(a=n("#"+s+" .ws-ls-postbox"),e=!0===e?i-1:i+1,function(e,s){let t=document.getElementById(e),a=document.getElementById(s),i=a.parentNode,n=a.nextSibling;n===t?i.insertBefore(t,a):(t.parentNode.insertBefore(a,t),n?i.insertBefore(t,n):i.appendChild(t))}(n(a[i]).attr("id"),n(a[e]).attr("id")),o("order",s,l(s)))})});
