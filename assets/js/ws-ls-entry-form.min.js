jQuery(document).ready(function(a){a(".we-ls-datepicker, .we-ls-datepicker-plain").each(function(){let b=a(this).hasClass("ws-ls-dob-field"),c=!0===b?"-100:-1":"-100:+0";!1===b&&a(this).hasClass("we-ls-challenge-datepicker")&&(c=!0===b?"-100:-1":"-100:+100");let d={changeMonth:!0,changeYear:!0,yearRange:c,dateFormat:ws_ls_config["date-format"],showButtonPanel:!0,closeText:ws_ls_config["date-picker-locale"].closeText,currentText:ws_ls_config["date-picker-locale"].currentText,monthNames:ws_ls_config["date-picker-locale"].monthNames,monthNamesShort:ws_ls_config["date-picker-locale"].monthNamesShort,dayNames:ws_ls_config["date-picker-locale"].dayNames,dayNamesShort:ws_ls_config["date-picker-locale"].dayNamesShort,dayNamesMin:ws_ls_config["date-picker-locale"].dayNamesMin,firstDay:ws_ls_config["date-picker-locale"].firstDay};!0===b&&(d.defaultDate=new Date(90,0,1)),a(this).datepicker(d)}),a.validator.addMethod("filesize",function(a,b,c){return this.optional(b)||b.files[0].size<=c}),a(".ws-ls-photo-field-delete").change(function(){if("y"===a(this).data("required")){var b="#"+a(this).data("field-id");!0===a(this).is(":checked")?a(b).attr("required","required"):(a(b).removeAttr("required"),a(b).removeClass("ws-ls-invalid"))}}),a(".we-ls-weight-form-validate").each(function(){let b=a(this).attr("id"),c=a(this).data("is-target-form"),d=a(this).data("metric-unit");if(window.console&&console.log(" Adding form validation to: "+b+". Target form? "+c+". Weight Unit: "+d),a("#"+b).validate({errorContainer:"#"+b+" .ws-ls-error-summary",errorLabelContainer:"#"+b+" .ws-ls-error-summary ul",wrapper:"li",ignore:[],errorClass:"ws-ls-invalid",validClass:"ws-ls-valid",messages:{"we-ls-date":ws_ls_config["validation-we-ls-date"],"ws-ls-weight-pounds":ws_ls_config["validation-we-ls-weight-pounds"],"ws-ls-weight-kg":ws_ls_config["validation-we-ls-weight-kg"],"ws-ls-weight-stones":ws_ls_config["validation-we-ls-weight-stones"]},submitHandler:function(b){a(".ws-ls-remove-on-submit").remove(),a(".ws-ls-form-processing-throbber").removeClass("ws-ls-hide"),b.submit()}}),!1===c&&a("#"+b+" .we-ls-datepicker").length){let c={required:!0};"true"===ws_ls_config["us-date"]?c.date=!0:c.dateITA=!0,a("#"+b+" .we-ls-datepicker").rules("add",c)}let e={required:!c,number:!0,range:[0,5e3]};"pounds_only"===d?a("#"+b+" .ws-ls-weight-pounds").rules("add",e):"stones_pounds"===d?(a("#"+b+" .ws-ls-weight-stones").rules("add",e),e.range=[0,14],a("#"+b+" .ws-ls-weight-pounds").rules("add",e)):a("#"+b+" .ws-ls-weight-kg").rules("add",e)}),a(".we-ls-weight-form").on("click",".ws-ls-cancel-form",function(b){b.preventDefault();let c=a(this),d=c.data("form-id");if(void 0!==d){let b=a("#"+d+" #redirect-url").val();void 0===b||(window.location.href=b.replace("ws-edit-saved","ws-edit-cancel"))}})});
