/*! yk-uiUIkit 3.9.4 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */(function(n,c){typeof exports=="object"&&typeof module!="undefined"?module.exports=c(require("uikit-util")):typeof define=="function"&&define.amd?define("uikittooltip",["uikit-util"],c):(n=typeof globalThis!="undefined"?globalThis:n||self,n.yk-uiUIkitTooltip=c(n.yk-uiUIkit.util))})(this,function(n){"use strict";var c={props:{container:Boolean},data:{container:!0},computed:{container:function(o){var s=o.container;return s===!0&&this.$container||s&&n.$(s)}}},v={props:{cls:Boolean,animation:"list",duration:Number,origin:String,transition:String},data:{cls:!1,animation:[!1],duration:200,origin:!1,transition:"linear",clsEnter:"yk-ui-togglabe-enter",clsLeave:"yk-ui-togglabe-leave",initProps:{overflow:"",height:"",paddingTop:"",paddingBottom:"",marginTop:"",marginBottom:""},hideProps:{overflow:"hidden",height:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}},computed:{hasAnimation:function(o){var s=o.animation;return!!s[0]},hasTransition:function(o){var s=o.animation;return this.hasAnimation&&s[0]===!0}},methods:{toggleElement:function(o,s,a){var t=this;return new n.Promise(function(i){return n.Promise.all(n.toNodes(o).map(function(e){var h=n.isBoolean(s)?s:!t.isToggled(e);if(!n.trigger(e,"before"+(h?"show":"hide"),[t]))return n.Promise.reject();var r=(n.isFunction(a)?a:a===!1||!t.hasAnimation?t._toggle:t.hasTransition?w(t):T(t))(e,h),d=h?t.clsEnter:t.clsLeave;n.addClass(e,d),n.trigger(e,h?"show":"hide",[t]);var f=function(){n.removeClass(e,d),n.trigger(e,h?"shown":"hidden",[t]),t.$update(e)};return r?r.then(f,function(){return n.removeClass(e,d),n.Promise.reject()}):f()})).then(i,n.noop)})},isToggled:function(o){var s;return o===void 0&&(o=this.$el),s=n.toNodes(o),o=s[0],n.hasClass(o,this.clsEnter)?!0:n.hasClass(o,this.clsLeave)?!1:this.cls?n.hasClass(o,this.cls.split(" ")[0]):n.isVisible(o)},_toggle:function(o,s){if(!!o){s=Boolean(s);var a;this.cls?(a=n.includes(this.cls," ")||s!==n.hasClass(o,this.cls),a&&n.toggleClass(o,this.cls,n.includes(this.cls," ")?void 0:s)):(a=s===o.hidden,a&&(o.hidden=!s)),n.$$("[autofocus]",o).some(function(t){return n.isVisible(t)?t.focus()||!0:t.blur()}),a&&(n.trigger(o,"toggled",[s,this]),this.$update(o))}}}};function w(o){var s=o.isToggled,a=o.duration,t=o.initProps,i=o.hideProps,e=o.transition,h=o._toggle;return function(r,d){var f=n.Transition.inProgress(r),l=r.hasChildNodes?n.toFloat(n.css(r.firstElementChild,"marginTop"))+n.toFloat(n.css(r.lastElementChild,"marginBottom")):0,g=n.isVisible(r)?n.height(r)+(f?0:l):0;n.Transition.cancel(r),s(r)||h(r,!0),n.height(r,""),n.fastdom.flush();var u=n.height(r)+(f?0:l);return n.height(r,g),(d?n.Transition.start(r,n.assign({},t,{overflow:"hidden",height:u}),Math.round(a*(1-g/u)),e):n.Transition.start(r,i,Math.round(a*(g/u)),e).then(function(){return h(r,!1)})).then(function(){return n.css(r,t)})}}function T(o){return function(s,a){n.Animation.cancel(s);var t=o.animation,i=o.duration,e=o._toggle;return a?(e(s,!0),n.Animation.in(s,t[0],i,o.origin)):n.Animation.out(s,t[1]||t[0],i,o.origin).then(function(){return e(s,!1)})}}var $={props:{pos:String,offset:null,flip:Boolean,clsPos:String},data:{pos:"bottom-"+(n.isRtl?"right":"left"),flip:!0,offset:!1,clsPos:""},computed:{pos:function(o){var s=o.pos;return(s+(n.includes(s,"-")?"":"-center")).split("-")},dir:function(){return this.pos[0]},align:function(){return this.pos[1]}},methods:{positionAt:function(o,s,a){n.removeClasses(o,this.clsPos+"-(top|bottom|left|right)(-[a-z]+)?");var t=this,i=t.offset,e=this.getAxis();if(!n.isNumeric(i)){var h=n.$(i);i=h?n.offset(h)[e==="x"?"left":"top"]-n.offset(s)[e==="x"?"right":"bottom"]:0}var r=n.positionAt(o,s,e==="x"?n.flipPosition(this.dir)+" "+this.align:this.align+" "+n.flipPosition(this.dir),e==="x"?this.dir+" "+this.align:this.align+" "+this.dir,e==="x"?""+(this.dir==="left"?-i:i):" "+(this.dir==="top"?-i:i),null,this.flip,a).target,d=r.x,f=r.y;this.dir=e==="x"?d:f,this.align=e==="x"?f:d,n.toggleClass(o,this.clsPos+"-"+this.dir+"-"+this.align,this.offset===!1)},getAxis:function(){return this.dir==="top"||this.dir==="bottom"?"y":"x"}}},p,m={mixins:[c,v,$],args:"title",props:{delay:Number,title:String},data:{pos:"top",title:"",delay:0,animation:["yk-ui-animation-scale-up"],duration:100,cls:"yk-ui-active",clsPos:"yk-ui-tooltip"},beforeConnect:function(){this._hasTitle=n.hasAttr(this.$el,"title"),n.attr(this.$el,"title",""),this.updateAria(!1),P(this.$el)},disconnected:function(){this.hide(),n.attr(this.$el,"title",this._hasTitle?this.title:null)},methods:{show:function(){var o=this;this.isToggled(this.tooltip||null)||!this.title||(this._unbind=n.once(document,"show keydown "+n.pointerDown,this.hide,!1,function(s){return s.type===n.pointerDown&&!n.within(s.target,o.$el)||s.type==="keydown"&&s.keyCode===27||s.type==="show"&&s.detail[0]!==o&&s.detail[0].$name===o.$name}),clearTimeout(this.showTimer),this.showTimer=setTimeout(this._show,this.delay))},hide:function(){var o=this;n.matches(this.$el,"input:focus")||(clearTimeout(this.showTimer),!!this.isToggled(this.tooltip||null)&&this.toggleElement(this.tooltip,!1,!1).then(function(){o.tooltip=n.remove(o.tooltip),o._unbind()}))},_show:function(){var o=this;this.tooltip=n.append(this.container,'<div class="'+this.clsPos+'"> <div class="'+this.clsPos+'-inner">'+this.title+"</div> </div>"),n.on(this.tooltip,"toggled",function(s,a){o.updateAria(a),!!a&&(o.positionAt(o.tooltip,o.$el),o.origin=o.getAxis()==="y"?n.flipPosition(o.dir)+"-"+o.align:o.align+"-"+n.flipPosition(o.dir))}),this.toggleElement(this.tooltip,!0)},updateAria:function(o){n.attr(this.$el,"aria-expanded",o)}},events:(p={focus:"show",blur:"hide"},p[n.pointerEnter+" "+n.pointerLeave]=function(o){n.isTouch(o)||this[o.type===n.pointerEnter?"show":"hide"]()},p[n.pointerDown]=function(o){n.isTouch(o)&&this.show()},p)};function P(o){n.isFocusable(o)||n.attr(o,"tabindex","0")}return typeof window!="undefined"&&window.yk-uiUIkit&&window.yk-uiUIkit.component("tooltip",m),m});
