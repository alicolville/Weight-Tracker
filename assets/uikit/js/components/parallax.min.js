/*! ykukUIkit 3.9.4 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */(function(t,p){typeof exports=="object"&&typeof module!="undefined"?module.exports=p(require("uikit-util")):typeof define=="function"&&define.amd?define("uikitparallax",["uikit-util"],p):(t=typeof globalThis!="undefined"?globalThis:t||self,t.ykukUIkitParallax=p(t.ykukUIkit.util))})(this,function(t){"use strict";var p={props:{media:Boolean},data:{media:!1},computed:{matchMedia:function(){var e=S(this.media);return!e||window.matchMedia(e).matches}}};function S(e){if(t.isString(e)){if(e[0]==="@"){var r="breakpoint-"+e.substr(1);e=t.toFloat(t.getCssVar(r))}else if(isNaN(e))return e}return e&&!isNaN(e)?"(min-width: "+e+"px)":!1}t.memoize(function(e){return new t.Promise(function(r,a){if(!e){a();return}t.startsWith(e,"data:")?r(decodeURIComponent(e.split(",")[1])):t.ajax(e).then(function(s){return r(s.response)},function(){return a("SVG not found.")})})});function z(e){return Math.ceil(Math.max.apply(Math,[0].concat(t.$$("[stroke]",e).map(function(r){try{return r.getTotalLength()}catch{return 0}}))))}var x=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity","stroke"],I={mixins:[p],props:x.reduce(function(e,r){return e[r]="list",e},{}),data:x.reduce(function(e,r){return e[r]=void 0,e},{}),computed:{props:function(e,r){var a=this;return x.reduce(function(s,n){if(t.isUndefined(e[n]))return s;var f=n.match(/color/i),d=f||n==="opacity",c,g,i,o=e[n].slice();d&&t.css(r,n,""),o.length<2&&o.unshift((n==="scale"?1:d?t.css(r,n):0)||0);var b=W(o);if(f){var l=r.style,h=l.color;o=o.map(function(m){return F(r,m)}),r.style.color=h}else if(t.startsWith(n,"bg")){var u=n==="bgy"?"height":"width";if(o=o.map(function(m){return t.toPx(m,u,a.$el)}),t.css(r,"background-position-"+n[2],""),g=t.css(r,"backgroundPosition").split(" ")[n[2]==="x"?0:1],a.covers){var v=Math.min.apply(Math,o),y=Math.max.apply(Math,o),C=o.indexOf(v)<o.indexOf(y);i=y-v,o=o.map(function(m){return m-(C?v:y)}),c=(C?-i:0)+"px"}else c=g}else o=o.map(t.toFloat);if(n==="stroke"){if(!o.some(function(m){return m}))return s;var $=z(a.$el);t.css(r,"strokeDasharray",$),b==="%"&&(o=o.map(function(m){return m*$/100})),o=o.reverse(),n="strokeDashoffset"}return s[n]={steps:o,unit:b,pos:c,bgPos:g,diff:i},s},{})},bgProps:function(){var e=this;return["bgx","bgy"].filter(function(r){return r in e.props})},covers:function(e,r){return O(r)}},disconnected:function(){delete this._image},update:{read:function(e){var r=this;if(!!this.matchMedia){if(!e.image&&this.covers&&this.bgProps.length){var a=t.css(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(a){var s=new Image;s.src=a,e.image=s,s.naturalWidth||(s.onload=function(){return r.$update()})}}var n=e.image;if(!(!n||!n.naturalWidth)){var f={width:this.$el.offsetWidth,height:this.$el.offsetHeight},d={width:n.naturalWidth,height:n.naturalHeight},c=t.Dimensions.cover(d,f);this.bgProps.forEach(function(g){var i=r.props[g],o=i.diff,b=i.bgPos,l=i.steps,h=g==="bgy"?"height":"width",u=c[h]-f[h];if(u<o)f[h]=c[h]+o-u;else if(u>o){var v=f[h]/t.toPx(b,h,r.$el);v&&(r.props[g].steps=l.map(function(y){return y-(u-o)/v}))}c=t.Dimensions.cover(d,f)}),e.dim=c}}},write:function(e){var r=e.dim;if(!this.matchMedia){t.css(this.$el,{backgroundSize:"",backgroundRepeat:""});return}r&&t.css(this.$el,{backgroundSize:r.width+"px "+r.height+"px",backgroundRepeat:"no-repeat"})},events:["resize"]},methods:{reset:function(){var e=this;t.each(this.getCss(0),function(r,a){return t.css(e.$el,a,"")})},getCss:function(e){var r=this,a=r.props;return Object.keys(a).reduce(function(s,n){var f=a[n],d=f.steps,c=f.unit,g=f.pos,i=N(d,e);switch(n){case"x":case"y":{c=c||"px",s.transform+=" translate"+t.ucfirst(n)+"("+t.toFloat(i).toFixed(c==="px"?0:2)+c+")";break}case"rotate":c=c||"deg",s.transform+=" rotate("+(i+c)+")";break;case"scale":s.transform+=" scale("+i+")";break;case"bgy":case"bgx":s["background-position-"+n[2]]="calc("+g+" + "+i+"px)";break;case"color":case"backgroundColor":case"borderColor":{var o=w(d,e),b=o[0],l=o[1],h=o[2];s[n]="rgba("+b.map(function(u,v){return u=u+h*(l[v]-u),v===3?t.toFloat(u):parseInt(u,10)}).join(",")+")";break}case"blur":c=c||"px",s.filter+=" blur("+(i+c)+")";break;case"hue":c=c||"deg",s.filter+=" hue-rotate("+(i+c)+")";break;case"fopacity":c=c||"%",s.filter+=" opacity("+(i+c)+")";break;case"grayscale":case"invert":case"saturate":case"sepia":c=c||"%",s.filter+=" "+n+"("+(i+c)+")";break;default:s[n]=i}return s},{transform:"",filter:""})}}};function F(e,r){return t.css(t.css(e,"color",r),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(t.toFloat)}function w(e,r){var a=e.length-1,s=Math.min(Math.floor(a*r),a-1),n=e.slice(s,s+2);return n.push(r===1?1:r%(1/a)*a),n}function N(e,r,a){a===void 0&&(a=2);var s=w(e,r),n=s[0],f=s[1],d=s[2];return(t.isNumber(n)?n+Math.abs(n-f)*d*(n<f?1:-1):+f).toFixed(a)}function W(e){return e.reduce(function(r,a){return t.isString(a)&&a.replace(/-|\d/g,"").trim()||r},"")}function O(e){var r=e.style,a=r.backgroundSize,s=t.css(t.css(e,"backgroundSize",""),"backgroundSize")==="cover";return e.style.backgroundSize=a,s}var M={mixins:[I],props:{target:String,viewport:Number,easing:Number},data:{target:!1,viewport:1,easing:1},computed:{target:function(e,r){var a=e.target;return P(a&&t.query(a,r)||r)}},update:{read:function(e,r){var a=e.percent;if(r.has("scroll")||(a=!1),!!this.matchMedia){var s=a;return a=D(t.scrolledOver(this.target)/(this.viewport||1),this.easing),{percent:a,style:s!==a?this.getCss(a):!1}}},write:function(e){var r=e.style;if(!this.matchMedia){this.reset();return}r&&t.css(this.$el,r)},events:["scroll","resize"]}};function D(e,r){return t.clamp(e*(1-(r-r*e)))}function P(e){return e?"offsetTop"in e?e:P(t.parent(e)):document.body}return typeof window!="undefined"&&window.ykukUIkit&&window.ykukUIkit.component("parallax",M),M});
