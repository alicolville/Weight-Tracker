function ws_ls_post_data(s,e){var t=ws_ls_config["ajax-url"];jQuery.post(t,s,function(t){var t=JSON.parse(t);e(s,t)})}function ws_ls_user_preference_callback(s,e){1==e?window.location.replace(ws_ls_config["current-url"]+"?user-preference-saved=true"):console.log("Error saving the user preferences")}function ws_ls_get_querystring_value(s){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){var a=e[t].split("=");if(a[0]==s)return a[1]}}$tabs_global=!1,jQuery(document).ready(function(s){function e(e,t){if(1==t){var a=s("#"+e["table-id"]).DataTable(),r=s("#"+e["table-row-id"]);a.row(r).remove().draw(),i()}else console.log("Error deleting entry :(",e,t)}function t(s,e){1==e?i():console.log("Error clearing target :(",s,e)}function a(e,t){if(0!=t){if("true"==ws_ls_config["us-date"]?s("#"+e["form-id"]+" .we-ls-datepicker").val(t["date-us"]):s("#"+e["form-id"]+" .we-ls-datepicker").val(t["date-uk"]),$weight_unit=s("#"+e["form-id"]).data("metric-unit"),"imperial-pounds"==$weight_unit&&s("#"+e["form-id"]+" #we-ls-weight-pounds").val(t.only_pounds),"imperial-both"==$weight_unit&&(s("#"+e["form-id"]+" #we-ls-weight-stones").val(t.stones),s("#"+e["form-id"]+" #we-ls-weight-pounds").val(t.pounds)),"metric"==$weight_unit&&s("#"+e["form-id"]+" #we-ls-weight-kg").val(t.kg),s("#"+e["form-id"]+" #we-ls-notes").val(t.notes),"true"==ws_ls_config["tabs-enabled"]&&$tabs_global.data("zozoTabs").first(),0!=t.measurements){var a=t.measurements;for(var i in a)a.hasOwnProperty(i)&&s("#"+e["form-id"]+" #ws-ls-"+i).val(a[i])}s(".ws-ls-main-weight-form input:visible:nth-child(3)").focus()}else console.log("Error loading entry :(",e,t)}function i(){s(".ws-ls-notice-of-refresh").removeClass("ws-ls-hide")}if("true"==ws_ls_config["advanced-tables-enabled"]&&("true"==ws_ls_config["us-date"]?s.fn.dataTable.moment("MM/DD/YYYY"):s.fn.dataTable.moment("DD/MM/YYYY"),s(".ws-ls-advanced-data-table").DataTable({responsive:!0,order:[[1,"desc"]],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],columnDefs:ws_ls_config_advanced_datatables.columns,language:ws_ls_table_locale})),s(".ws-ls-advanced-data-table").on("click",".ws-ls-edit-row",function(e){e.preventDefault(),$post_data={},$post_data.action="ws_ls_get_entry",$post_data.security=ws_ls_config["ajax-security-nonce"],$post_data["user-id"]=ws_ls_config["user-id"],$post_data["row-id"]=s(this).data("row-id"),$post_data["form-id"]=s(".ws-ls-main-weight-form").attr("id"),ws_ls_post_data($post_data,a)}),s(".ws-ls-advanced-data-table").on("click",".ws-ls-delete-row",function(t){if(t.preventDefault(),confirm(ws_ls_config["confirmation-delete"])){var a=s(this).closest("tr"),i=s(this).closest("table");$post_data={},$post_data.action="ws_ls_delete_weight_entry",$post_data.security=ws_ls_config["ajax-security-nonce"],$post_data["user-id"]=ws_ls_config["user-id"],$post_data["table-row-id"]=a.attr("id"),$post_data["table-id"]=i.attr("id"),$post_data["row-id"]=s(this).data("row-id"),ws_ls_post_data($post_data,e)}}),s(".ws-ls-clear-target").click(function(s){s.preventDefault(),confirm(ws_ls_config["clear-target"])&&($post_data={},$post_data.action="ws_ls_clear_target",$post_data.security=ws_ls_config["ajax-security-nonce"],$post_data["user-id"]=ws_ls_config["user-id"],ws_ls_post_data($post_data,t))}),"true"==ws_ls_config["tabs-enabled"]){$default_tab="tab1";$tabs_global=s("#ws-ls-tabs").zozoTabs({rounded:!1,multiline:!0,theme:"silver",size:"medium",responsive:!0,animation:{effects:"slideH",easing:"easeInOutCirc",type:"jquery"},defaultTab:$default_tab,ready:function(e,t){s("#ws-ls-tabs-loading").addClass("ws-ls-hide"),s("#"+t.id).attr("style","")}})}"true"==ws_ls_config["is-pro"]&&(s(".ws-ls-user-delete-all").validate({errorClass:"ws-ls-invalid",validClass:"ws-ls-valid",errorContainer:".ws-ls-user-delete-all .ws-ls-error-summary",errorLabelContainer:".ws-ls-user-delete-all .ws-ls-error-summary ul",wrapper:"li",messages:{"ws-ls-delete-all":ws_ls_config["validation-we-ls-history"]},submitHandler:function(s){s.submit()}}),s(".ws-ls-user-pref-form").submit(function(e){e.preventDefault();var t={};t.security=ws_ls_config["ajax-security-nonce"],t["user-id"]=ws_ls_config["user-id"],s(".ws-ls-user-pref-form select").each(function(){t[s(this).attr("id")]=s(this).val()}),t["ws-ls-dob"]=s("#ws-ls-dob").val(),t.action="ws_ls_save_preferences",ws_ls_post_data(t,ws_ls_user_preference_callback)})),s(".ws-ls-reload-page-if-clicked").click(function(s){s.preventDefault(),window.location.replace(ws_ls_config["current-url"])}),s(".ws-ls-progress").each(function(){var e=s(this).attr("id"),t=s(this).data("progress"),a=s(this).data("type"),i={strokeWidth:s(this).data("stroke-width"),easing:"easeInOut",duration:s(this).data("animation-duration"),color:s(this).data("stroke-colour"),trailColor:s(this).data("trail-colour"),trailWidth:s(this).data("trail-width"),svgStyle:{width:s(this).data("width"),height:s(this).data("height")},text:{style:{color:s(this).data("text-colour")}},step:function(e,t,a){t.setText(Math.round(100*t.value())+"% "+s("#"+t._container.id).data("precentage-text"))}};if("circle"==a)r=new ProgressBar.Circle("#"+e,i);else var r=new ProgressBar.Line("#"+e,i);r.animate(t)})});
