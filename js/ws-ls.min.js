jQuery(document).ready(function(e){function t(t){$chart_type=e("#"+t).data("chart-type"),"undefined"==typeof $chart_type&&($chart_type="line");var a=e("#"+t).get(0).getContext("2d"),i=e("#"+t).parent().width();e("#"+t).attr("width",i-50),"line"==$chart_type?new Chart(a).Line(this[t+"_data"],this[t+"_options"]):"bar"==$chart_type&&($target_colour=e("#"+t).data("target-colour"),$target_weight=e("#"+t).data("target-weight"),Chart.types.Bar.extend({name:"BarOverlay",draw:function(){Chart.types.Bar.prototype.draw.apply(this),a.beginPath(),a.lineWidth=2,a.strokeStyle=$target_colour,a.moveTo(35,this.scale.calculateY($target_weight)),a.lineTo(this.scale.calculateX(this.datasets[0].bars.length),this.scale.calculateY($target_weight)),a.stroke()}}),new Chart(a).BarOverlay(this[t+"_data"],this[t+"_options"]))}"true"==ws_ls_config["tabs-enabled"]&&e("#ws-ls-tabs").zozoTabs({rounded:!1,multiline:!0,theme:"silver",size:"medium",responsive:!0,animation:{effects:"slideH",easing:"easeInOutCirc",type:"jquery"}}),e(".ws-ls-chart").each(function(){$chart_id=e(this).attr("id"),t($chart_id)}),e(".we-ls-datepicker").each(function(){var t={changeMonth:!0,changeYear:!0,showButtonPanel:!0,dateFormat:ws_ls_config["date-format"]};e(this).datepicker(t)}),e(".we-ls-weight-form-validate").each(function(){$form_id=e(this).attr("id"),$target_form=e(this).data("is-target-form"),$weight_unit=e(this).data("metric-unit"),console.log("Adding form validation to: "+$form_id+". Target form? "+$target_form+". Weight Unit: "+$weight_unit),e("#"+$form_id).validate({errorClass:"ws-ls-invalid",validClass:"ws-ls-valid",errorContainer:"#"+$form_id+" .ws-ls-error-summary",errorLabelContainer:"#"+$form_id+" .ws-ls-error-summary ul",wrapper:"li",messages:{"we-ls-date":ws_ls_config["validation-we-ls-date"],"we-ls-weight-pounds":ws_ls_config["validation-we-ls-weight-pounds"],"we-ls-weight-kg":ws_ls_config["validation-we-ls-weight-kg"],"we-ls-weight-stones":ws_ls_config["validation-we-ls-weight-stones"]},submitHandler:function(e){e.submit()}}),$target_form||("true"==ws_ls_config["us-date"]?e("#"+$form_id+" #we-ls-date").rules("add",{required:!0,date:!0}):e("#"+$form_id+" #we-ls-date").rules("add",{required:!0,dateITA:!0})),"imperial-pounds"==$weight_unit&&e("#"+$form_id+" #we-ls-weight-pounds").rules("add",{required:!0,number:!0,range:[0,5e3]}),"imperial-both"==$weight_unit&&(e("#"+$form_id+" #we-ls-weight-stones").rules("add",{required:!0,number:!0,range:[0,5e3]}),e("#"+$form_id+" #we-ls-weight-pounds").rules("add",{required:!0,number:!0,range:[0,14]})),"metric"==$weight_unit&&e("#"+$form_id+" #we-ls-weight-kg").rules("add",{required:!0,number:!0,range:[0,5e4]})})});
